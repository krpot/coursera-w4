dmy(25081985)
dmy("25081985")
ymd("192012")
ymd("192-01-2")
ymd("1920-1-2")
dt1
ymd_hms(dt1)
hms("03:22:14")
dt2
ymd(dt2)
ymd(dt2[1])
sapply(dt2, ymd)
update(this_moment, hours=8, minutes=34, seconds=55)
this_moment
this_moment <- upate(this_moment, hour = hour(this_moment), minute=minute(this_moment), second = second(this_moment))
this_moment <- update(this_moment, hour = hour(this_moment), minute=minute(this_moment), second = second(this_moment))
update(this_moment, hours=10, minutes=16, seconds=10)
this_moment
nyc <- now(tz="America/New_York")
nyc
nyc + days(2)
depart <- nyc + days(2)
depart
depart <- update(depart, hours=17, minutes=34)
depart
arrive <- depart + hours(15) + minutes(50)
?with_tz
with_tz(arrvie, tzone = "Asia/Hong_King")
with_tz(arrvie, tzone = "Asia/Hong_Kong")
with_tz(arrive, tzone = "Asia/Hong_Kong")
with_tz(arrive, "Asia/Hong_Kong")
arrive <- with_tz(time=arrive, tzone="Asia/Hong_Kong")
arrive
last_time <- mdy("June 17, 2008", tz="Singapore")
last_time
?new_interval
how_long <- new_interval(last_time)
how_long <- new_interval(last_time, arrive)
as.period(how_long)
stopwatch()
source('~/.active-rstudio-document')
head(hid)
strsplit(names(hid))
strsplit(names(hid), split = "\\")
?strsplit
strsplit(naems(hid), split = "wgtp")
strsplit(names(hid), split = "wgtp")
strsplit(names(hid), split = "wgtp")[123]
source('~/.active-rstudio-document')
?fread
library(data.table)
?fread
source('~/.active-rstudio-document')
gdp <- fread(destFile, select=c(1,2,4,5), skip=4, nrows = 190, stringsAsFactors=FALSE)
head(gdp)
names(gdp) <- c("CountryCode", "Rank", "Nation", "Total")
head(gdp)
head(gdp$Total)
class(gdp$Total)
str_trim(" 16,244,600 ")
strtrim(" 16,244,600 ")
?strtrim
str_trim(" 16,244,600 ")
library(stringr)
str_trim(" 16,244,600 ")
as.numeric(str_trim(" 16,244,600 "))
as.numeric(as.character(str_trim(" 16,244,600 "))
)
?as.numeric
as.numeric(" 16,244,600 ")
g_sub(" 16,244,600 ", ",", "")
gsub(" 16,244,600 ", ",", "")
gsub(" 16,244,600 ", "\,", "")
gsub(" 16,244,600 ", "\\,", "")
gsub(",", "", " 16,244,600 ")
str_trim(gsub(",", "", " 16,244,600 "))
as.numeric(gsub(",", "", " 16,244,600 "))
gdp$Total <- as.numeric(gsub(",", "", gdp$Total))
head(gdp)
class(gdp$Total)
gdp <- fread(destFile, select=c(1,2,4,5), skip=4, nrows = 190, stringsAsFactors=FALSE)
names(gdp) <- c("CountryCode", "Rank", "Nation", "Total")
gdp$Total <- as.numeric(gsub(",", "", gdp$Total))
mean(gdp$Total)
mean(gdp[gdp$Total>=1000000 & gdp$Total>=999999])
mean(gdp[gdp$Total>=1000000 & gdp$Total>=999999, "Total"])
gdp[gdp$Total>=1000000 & gdp$Total>=999999, "Total"]
gdp[gdp$Total>=1000000 & gdp$Total>=999999]
gdp[gdp$Total>=1000000 & gdp$Total>=999999, gdp$Total]
nrow(gdp[gdp$Total>=1000000 & gdp$Total>=999999,])
nrow(gdp[gdp$Total>=1000000 & gdp$Total>=999999, "Total"])
nrow(gdp[gdp$Total>=1000000 & gdp$Total>=999999, gdp$Total])
class(dtp)
class(gdp)
gdp$Total>=1000000 & gdp$Total>=999999
gdp$Total>=1000000
gdp[gdp$Total>=1000000]
gdp[gdp$Total>=1000000, "Total"]
gdp[gdp$Total>=1000000, 4]
gdp[gdp$Total>=1000000]
gdp[gdp$Total>=1000000][4]
class(gdp[gdp$Total>=1000000])
gdp[gdp$Total>=1000000][4]
gdp[gdp$Total>=1000000]
gdp[gdp$Total>=1000000]["Total"]
gdp[gdp$Total>=1000000]['Total']
gdp[gdp$Total>=1000000, 'Total']
nrow(gdp[gdp$Total>=1000000, 'Total'])
x <- gdp[gdp$Total>=100000]
x['Total']
x[,'Total']
x <- gdp[gdp$Total>=100000, 4]
x
x <- gdp[gdp$Total>=100000]
x[, 4, with=FALSE]
x[,4]
x[, 4, with=FALSE]
nrow(x)
x <- gdp[gdp$Total>=1000000]
nrow(x)
x[, 4, with=FALSE]
mean(x[, 4, with=FALSE])
x <- as.numeric(x)
x <- as.numeric(as.character(x))
library(dplyr)
tbl <- tbl_df(gdp)
class(tbl)
select(tbl, "Total")
select(tbl, 4)
mean(select(tbl, 4))
query(tbl, "select avg(Total)")
?query
class(gdp$Total)
mean(gdp$Total)
gdp[gdp$Total>=1000000]
gdp[gdp$Total>=1000000, gdp$Total]
gdp[gdp$Total>=1000000]
x<- gdp[gdp$Total>=1000000]
class(x$Total)
mean(x$Total)
gdp <- fread(destFile, select=c(1,2,4,5), skip=4, nrows = 190, stringsAsFactors=FALSE)
names(gdp) <- c("CountryCode", "Rank", "Nation", "Total")
gdp$Nation
?grep
grep("^United", gdp$Nation)
length(grep("^United", gdp$Nation))
source('~/.active-rstudio-document')
head(edu)
class(edu)
edu <- fread(destFile)
source('~/.active-rstudio-document')
head(edu)
merge(gdp, edu, by = "CountryCode")
merge <_ merge(gdp, edu, by = "CountryCode")
merge <- merge(gdp, edu, by = "CountryCode")
head(merge)
names(merge)
names(gdp)
merge$`System of National Accounts`
merge$`Government Accounting concept`
merge$`PPP survey year`
names(edu)
merge$`National accounts base year`
names(edu)
library(quantmod)
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN", auto.assign = FALSE)
sampleTimes = index(amzn)
sampleTimes
calss(sampleTimes)
class(sampleTimes)
month(sampleTimes)
month(sampleTimes) == 12
sum(month(sampleTimes) == 12)
sampleTimes
head(sampleTimes)
year(sampleTimes)
year(sampleTimes) == 2012
sum(year(sampleTimes) == 2012)
sum(year(sampleTimes) == 2012 & wdays(sampleTimes) == "Monday")
sum(year(sampleTimes) == 2012 & wday(sampleTimes) == "Monday")
sum(year(sampleTimes) == 2012 & weekdays(sampleTimes) == "Monday")
merge <- merge(gdp, edu, by.x='X', by.y = 'CountryCode')
download.file(fileUrl, destfile = destFile, method = "curl")
gdp <- csv.read(destFile, skip=4, nrows = 190)
destFile <- "edu.csv"
edu <- read.csv(destFile)
merge <- merge(gdp, edu, by.x='X', by.y = 'CountryCode')
names(gdp)
names(edu)
gdp <- csv.read("gdp.csv", skip=4, nrows = 190)
gdp <- read.csv("gdp.csv", skip=4, nrows = 190)
names(gdp)
merge <- merge(gdp, edu, by.x='X', by.y = 'CountryCode')
head(merge)
grep('Fiscal year end: June', merge$Special.Notes)
length(grep('Fiscal year end: June', merge$Special.Notes))
x <- gsub(",", "", gdp$X.4)
head(x)
mean(x, na.rm=TRUE)
mean(x, na.rm = T)
x <- gsub(",", "", gdp$X.4)
total <- as.integer(x)
mean(total, na.rm=T)
setwd("/Volumes/DocHouse/projects/coursera/data cleaning")
setwd("/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4")
data("mtcars")
library(reshape2)
narrow <- mtcars[,c("cyl", "gear", "vs", "mpg")]
head(narrow)
dcast(narrow, cyl + gear ~vs, max)
tided <- dcast(narrow, cyl + gear ~vs, max)
head(tided)
wide1 <- tided <- dcast(narrow, cyl + gear ~vs, max)
head(wide1)
wide2 <- tidied <- dcast(narrow, cyl + vs ~ gear, max)
wide2
wide3 <- tidied <- dcast(narrow, gear + vs ~ cyl, max)
wide3
notverywide <- aggregate(mpg ~ gear + vs + cyl, data = narrow, max)
notverywide
untidy <- with(narrow, tapply(mpg, list(cyl, vs, gear), max))
untidy
getwd()
?fread
subject <- fread(file="./dataset/test/subject_test.txt")
subject <- fread("./dataset/test/subject_test.txt")
head(subject)
test_labels<- fread("./dataset/test/y_test.txt")
head(test_labels)
length(test_labels)
nrow(test_labels)
nrow(subject)
test_data <- fread("./dataset/test/X_test.txt", stringsAsFactors=FALSE, select = 1:561, sep=" ")
nrow(test_data)
dim(test_data)
dim(subject)
dim(test_labels)
head(fread("./features.txt", sep=" "))
head(fread("./dataset/features.txt", sep=" "))
class(fread("./dataset/features.txt", sep=" "))
?fread
?list
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
activity_labels
features
readRecord(TEST_PATH)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
readRecord(TEST_PATH)
paste(TEST_PATH, "subject_test.txt")
paste0(TEST_PATH, "subject_test.txt")
?paste0
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
readRecord(TEST_PATH)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
paste0("./dataset/", "test")
paste0("./dataset/", "train")
?file.path
file.path("test", "x_test", ".txt")
file.path("test", "x_test..txt")
file.path("test", "x_test.txt")
file.path("./test", "x_test.txt")
file.path("./dataset/test", paste0("prefix"subject_, "test", ".txt"))
file.path("./dataset/test", paste0("subject_, "test", ".txt"))
file.path("./dataset/test", paste0("subject_", "test", ".txt"))
file.path("./dataset", "test", paste0("subject_", "test", ".txt"))
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
getFilePath("subject_", opt)
getFilePath("subject_", opt)
getFilePath("subject_", "test")
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
getFilePath("subject_", "test")
setwd("/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4")
getFilePath("subject_", "test")
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
setwd("/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4")
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
getFilePath("subject_", "test")
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
str(test)
summary(test)
tst.subject
test.subject
test$subject
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
test
head(test)
nrows(test)
length(test)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
test
class(test)
nrow(test)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
class(test)
nrow(test)
nrow(train)
class(activity_labels)
activity_labels[1]
activity_labels
activity_labels[,1:2]
class(activity_labels[,1:2])
y_test[1]
y_test_file <- getFilePath("y_", opt)
y_test_file <- getFilePath("y_", "test")
y_test <- readAFile(y_test_file)
head(y_test_file)
head(y_test)
activity_labels[activity_labels$V1 == y_test$V1,]
y_test$V1
activity_labels
y_test$V1
head(y_test$V1)
activity_labels$V1
merge(y_test, activity_labels, by="V1")
?merge
merge(y_test, activity_labels, by.y="V1")
merge(y_test, activity_labels, by.x="V1")
merge(y_test, activity_labels, by="V1")
x_test_file <- getFilePath("x_", "test")
x_test_file
x_test <- readAFile(x_test_file, sep=" ", select = 1:561)
head(x_test)
dim(x_test)
merge(x_test, features, by="V1")
str(x_test)
head(x_test)
head(x_test)
merge(x_test, features, by.x="V1")
x_test$V1
head(x_test$V1)
ncol(x_test)
dim(features)
head(features)
features[features$V1==1, "V2]
0
)
;
+1
;
dsfsf
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
exit()
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
getFilePath("x_", "test")
readAFile(x_test_file, sep=" ", select = 1:561)
features
merge(x_test, features, by.y="V1")
merge(x_test, features, by="V1")
merge(x_test$V1, features, by="V1")
x_test$V1
features$V1==1
features[features$V1==1,]
features[features$V1==1]
features[features$V1==2]
features[features$V1==]
features[features$V1==3]
colnames(x_test)
class(colnames(x_test))
colnames(x_test)["V1"]
colnames(x_test)[1]
colnames(x_test)[3]
colnames(x_test)[3]
features[3]
features[features$V1==3]
features[features$V1==3, "V2"]
features[features$V1==3]
class(features[features$V1==3])
x <- features[features$V1==3]
x
x[V2]
x["V2"]
x[,"V2"]
x[,2]
x$V2
features[features$V1==3]$V2
i <- colnames(x_test)
i
x
i
"V15" %in% i
match("V15", i)
features[features$V1== match("V15", i)]$V2
colnames(x_test) <- features[features$V1== 1:ncol(x_test)]$V2
x_test
colnames(x_test)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
head(test)
summary(test)
str(test)
dim(test)
colnames(test)
nrow(train)
nrow(test)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
nrow(sample)
unique(sample)
nrow(sample)
x_test_file
readAFile(x_test_file, sep=" ", select = 1:561)
grep("mean", colnames(features))
?grep
?grepl
grep(pa)
grep(pattern = c("-mean()", "-std()"), colnames(features))
grep("mean", colnames(features))
colnames(features)
grep("mean", features$V2)
grep("-mean()", features$V2)
filter(features, V1 %like% "mean()" | V1 %like% "std()")
filter(features, V1 %like% "mean()")
filter(features, V2 %like% "mean()" | V2 %like% "std()")
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
x_test
c_x_test <- col_names(x_test)
c_x_test <- colnames(x_test)
c_x_test
c_x_test[1]
grep("mean()", c_x_test)
grep("std()", c_x_test)
grep("-std()", c_x_test)
length(grep("-std()", c_x_test))
select(x_test, grep("-std()", c_x_test))
grep(c("-mean()", "-std()"), c_x_test)
?match
match(c_x_test, c("-mean()", "-std()"))
?pmatch
match(c("-mean()", "-std()"), c_x_test)
pmatch(c("-mean()", "-std()"), c_x_test)
grep("-mean()|-std()", c_x_test)
x_test %>% select(grep("-mean()|-std()", c_x_test))
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
dim(sample)
View(sample)
colnames(sample$V1) <- "Subject"
features[features$V1== 1:ncol(x_test)]$V2
bind_cols("Subject", features[features$V1== 1:ncol(x_test)]$V2)
features[features$V1== 1:ncol(x_test)]$V2
c <- features[features$V1== 1:ncol(x_test)]$V2
class(c)
c("Subject", c)
c[1]
c <- c("Subject", c)
c[1]
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
grep("-mean()|-std()", cols_x_test)
cols_x_test <- colnames(x_test)
cols_index <- grep("-mean()|-std()", cols_x_test)
cols_index
x_test %>% select(cols_index)
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
features[features$V1== 1:ncol(x_test)]$V2
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
c(1:561) %in% features
features$V1 == 1:561
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
test
train
debugSource('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
View(x_test)
View(sample_data)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
test
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
View(sample)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
head(sample)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
head(sample)
View(sample)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
View(sample)
View(sample)
tidyData()
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
tidyData
tidyData()
tidyData(mergeData())
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
merge <- tidyData(mergeData())
View(merge)
source('/Volumes/DocHouse/projects/coursera/data cleaning/coursera-w4/run_analysis.R')
View(merge)
merge <- tidyData(mergeData())
View(merge)
